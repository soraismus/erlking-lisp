!function(e){function r(t){if(n[t])return n[t].exports;var o=n[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};return r.m=e,r.c=n,r.p="",r(0)}([function(e,r,n){function t(e){return o(e,i("(keys (-get-current-env-))")[0].value.slice(1,-1).split(" "))}function o(e,r){if(!/^[-a-zA-Z0-9]+$/.test(e))return[];var n=RegExp("(^|W):"+e),t=[];for(var o in r){var u=r[o];n.test(u)&&t.push(u.slice(1))}return t}var u=n(1),i=n(27),a="Lisp> ";u({nodeId:"viewport",promptLabel:a,transform:i,getCandidates:t})},function(e,r,n){function t(e){var r=document.getElementById(e.nodeId),n=i(),t=e.promptLabel,d={promptLabel:t},m=a(d,n);s(r,m);var v=r.childNodes[0],h={getCandidates:e.getCandidates,promptLabel:t,transform:e.transform,viewport:n},y=u();o(y);var x=f(y);c(p,l(m,v,h,x),h)}function o(e){if(!e){var r=document.getElementsByClassName("erl-viewport")[0];r.style.overflow="hidden"}}var u=n(2),i=n(3),a=n(8),c=n(11),s=n(21),l=n(23),f=n(25),p=n(26);e.exports=t},function(e,r){function n(e){return a+s+e+l+f}function t(e){var r=u(),n=document.documentElement,t=document.createElement("div"),o=document.createElement("div");o.id="erl-css-scrollbar-test-div",t.appendChild(o);var a=document.createElement("style");if(a.type="text/css",a.id="erl-css-scrollbar-test-style",(r.fake?r:t).appendChild(a),r.appendChild(t),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),t.id="erl-css-scroll-test",r.fake){r.style.background="",r.style.overflow="hidden";var c=n.style.overflow;n.style.overflow="hidden",n.appendChild(r)}var s=i(o,30);return r.fake?(r.parentNode.removeChild(r),n.style.overflow=c,n.offsetHeight):t.parentNode.removeChild(t),s}function o(){var e=a+"{overflow:scroll;width:40px;height:40px;}"+c.map(n).join("")+n("");return t(e)}function u(){var e=document.body;if(!e){var r="svg"===document.documentElement.nodeName.toLowerCase();e=document.createElement(r?"svg":"body"),e.fake=!0}return e}function i(e,r){return"scrollWidth"in e&&e.scrollWidth===r}var a="#erl-css-scrollbar-test-div",c=["-webkit-","-moz-","-o-","-ms-"],s="::",l="scrollbar",f="{width:10px;}";e.exports=o},function(e,r,n){function t(){return a(i([],[],u("","")),o(0,0,0))}var o=n(4),u=n(5),i=n(6),a=n(7);e.exports=t},function(e,r){e.exports=function(e,r,n){return{offset:e,start:r,promptIndex:n}}},function(e,r){e.exports=function(e,r){return{preCursor:e,postCursor:r}}},function(e,r){e.exports=function(e,r,n){return{entries:e,prompts:r,prompt:n}}},function(e,r){function n(e,r){return 0===r.promptIndex?e.prompt:e.prompts[r.promptIndex-1]}e.exports=function(e,r){return{terminal:e,frame:r,prompt:n(e,r)}}},function(e,r,n){function t(e,r){var n=e.promptLabel,t=r.prompt,u=r.frame,a=r.terminal.entries.slice(u.start,u.start+u.offset).map(o.bind(null,e));null!=t.preCursor?t.preCursor:m,null!=t.postCursor?t.postCursor:m;return s(b,s(null,d,s(w,v,h,s(U,a,i(n,t.preCursor,t.postCursor)))))}function o(e,r){var n,t=e.completionLabel||y,o=e.displayLabel||x,u=e.errorLabel||g,i=e.promptLabel||_,c=e.responseLabel||E;switch(r.type){case"command":n=i+r.value;break;case"response":n=c+r.value;break;case"display":n=o+r.value;break;case"completion":n=t+r.value;break;case"error":n=u+r.value;break;default:throw new Error("invalid component type")}return a(n)}var u=n(9),i=(u.ERL_CURSOR,u.ERL_INPUT),a=u.ERL_ENTRY,c=(u.ERL_POST,u.ERL_PRE,u.ERL_PROMPT,n(10)),s=c.DIV,l=c.SECTION,f=(c.SPAN,c.H1),p=c.H4,d=l({id:"erl-header",classes:{head:!0}},f(null,"ErlkÃ¶nig Lisp Console\n"),p(null,"A terminal emulator and lisp interpreter\n")),m="",v=s({id:"erl-x-scroll-track",classes:{"erl-x-scroll-track":!0,"erl-scroll-track":!0}},s({id:"erl-x-scroll-thumb",classes:{"erl-x-scroll-thumb":!0,"erl-scroll-thumb":!0}})),h=s({id:"erl-y-scroll-track",classes:{"erl-y-scroll-track":!0,"erl-scroll-track":!0}},s({id:"erl-y-scroll-thumb",classes:{"erl-y-scroll-thumb":!0,"erl-scroll-thumb":!0}})),y="  ",x="",g="...> ",_="> ",E="==> ",y="  ",x="",g="...> ",_="> ",E="==> ",b={id:"erlking",classes:{erlking:!0,container:!0}},w={classes:{terminal:!0}},U={classes:{"erl-viewport":!0}};e.exports=t},function(e,r,n){function t(e){return c(p,e+s)}function o(e,r,n){return c(d,a(e),i(r),f,u(n))}function u(e){return c(m,e)}function i(e){return c(v,e)}function a(e){return c(h,e)}var c=n(10).SPAN,s="\n",l="_",f=c({id:"erl-cursor",classes:{"erl-cursor":!0,"erl-cursor":!0}},l),p={classes:{"erl-entry":!0,"erl-line":!0}},d={id:"erl-input",classes:{"erl-input":!0,"erl-line":!0}},m={id:"erl-post",classes:{"erl-post":!0},style:{position:"relative"}},v={id:"erl-pre",classes:{"erl-pre":!0}},h={id:"erl-prompt",classes:{"erl-prompt":!0,"erl-prompt":!0}};e.exports={ERL_CURSOR:f,ERL_ENTRY:t,ERL_INPUT:o,ERL_POST:u,ERL_PRE:i,ERL_PROMPT:a}},function(e,r){function n(e){return function(r){var n={tag:e};if(null!=r)for(var o in r)"id"===o&&(n.id=r.id),"classes"===o&&(n.classes=r.classes),"style"===o&&(n.style=r.style),"attribs"===o&&(n.attribs=r.attribs);if(arguments.length>1){var u=[].slice.call(arguments,1);1===u.length&&t(u[0])?n.children=u[0]:n.children=[].concat.apply([],u)}return n}}function t(e){return"[object String]"==={}.toString.call(e)}var o={A:!0,BUTTON:!0,CANVAS:!0,CODE:!0,DIV:!0,FOOTER:!0,FORM:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HEADER:!0,IMG:!0,LABEL:!0,LI:!0,LINK:!0,NAV:!0,NOSCRIPT:!0,OPTGROUP:!0,OPTION:!0,OUTPUT:!0,P:!0,PARAM:!0,PRE:!0,SCRIPT:!0,SECTION:!0,SELECT:!0,SOURCE:!0,SPAN:!0,STYLE:!0,TEXTAREA:!0},u={};for(var i in o)u[i]=n(i);e.exports=u},function(e,r,n){function t(e,r,n){var t=function(e){return function(t){r(o(e(t),n))}};e("keydown",t(u))}var o=n(12),u=n(16);e.exports=t},function(e,r,n){function t(e,r){var n=e.name,t=r.viewport;switch(n){case"addChar":return o.addChar(t,e["char"]);case"completeWord":return o.completeWord(t,r.getCandidates);case"noOp":return t;case"submit":return o.submit(t,r.transform);default:return o[n](t)}}var o=n(13);e.exports=t},function(e,r,n){function t(e,r){return f(v.addChar(e.terminal,r),e.frame)}function o(e,r){var n=e.frame,t=v.completeWord(c(e),r),o=t.entries.length-e.terminal.entries.length;return f(t,p(n.offset+o,n.start,0))}function u(e){var r=e.terminal;return f(r,m.clear(e.frame,r))}function i(e){return f(e.terminal,m.fastForward(e.frame))}function a(e){return function(r){return f(v[e](c(r)),m.resetPromptIndex(r.frame))}}function c(e){var r=e.terminal;return d(r.entries,r.prompts,e.prompt)}function s(e){var r=e.terminal;return f(r,m.rewind(e.frame,r))}function l(e,r){var n=e.frame,t=v.submit(c(e),r),o=t.entries.length-e.terminal.entries.length;return f(t,p(n.offset+o,n.start,0))}var f=n(7),p=n(4),d=n(6),m=n(14),v=n(15);e.exports={addChar:t,clear:u,completeWord:o,deleteLeftChar:a("deleteLeftChar"),deletePreCursor:a("deletePreCursor"),deleteRightChar:a("deleteRightChar"),deleteWord:a("deleteWord"),fastForward:i,moveCursorLeft:a("moveCursorLeft"),moveCursorRight:a("moveCursorRight"),moveCursorToEnd:a("moveCursorToEnd"),moveCursorToStart:a("moveCursorToStart"),rewind:s,submit:l}},function(e,r,n){function t(e,r){return a(0,r.entries.length,e.promptIndex)}function o(e){return a(e.offset,e.start,e.promptIndex>0?e.promptIndex-1:e.promptIndex)}function u(e){return a(e.offset,e.start,0)}function i(e,r){return a(e.offset,e.start,r.prompts.length>e.promptIndex?e.promptIndex+1:e.promptIndex)}var a=n(4);e.exports={clear:t,fastForward:o,resetPromptIndex:u,rewind:i}},function(e,r,n){function t(e,r){return y(e.entries,e.prompts,x(e.prompt.preCursor+r,e.prompt.postCursor))}function o(e,r){null==r&&(r=function(e){var r;return r=[{effect:!1,value:e}]});var n=e.prompt.preCursor,t=l(n),o=r(t[1]),u=o.length;if(0===u)return e;var i,a;return 1===u?(i=e.entries,a=x(t[0]+o[0]+" "+e.prompt.postCursor,e.prompt.postCursor)):(i=e.entries.concat([{type:"command",value:s(e.prompt)}],[{type:"completion",value:o.join(" ")}]),a=e.prompt),y(i,e.prompts,a)}function u(e){return y(e.entries,e.prompts,x(e.prompt.preCursor.slice(0,-1),e.prompt.postCursor))}function i(e){return y(e.entries,e.prompts,x("",e.prompt.postCursor))}function a(e){return y(e.entries,e.prompts,x(e.prompt.preCursor,e.prompt.postCursor.slice(1)))}function c(e){var r=e.prompt.preCursor;return y(e.entries,e.prompts,x(r.slice(0,r.slice(0,-1).lastIndexOf(" ")+1),e.prompt.postCursor))}function s(e){return(e.preCursor+e.postCursor).trim()}function l(e){var r=/^(.*[\s\(\)\[\]])([^\(\)\[\]]*)/,n=r.exec(e);return null==n?["",e]:[n[1],n[2]]}function f(e){var r=e.prompt.preCursor,n=r.length;if(0===n)return e;var t=e.prompt.postCursor;return y(e.entries,e.prompts,x(r.slice(0,-1),r[n-1]+t))}function p(e){var r=e.prompt.postCursor;if(0===r.length)return e;var n=e.prompt.preCursor;return y(e.entries,e.prompts,x(n+r[0],r.slice(1)))}function d(e){var r=e.prompt;return y(e.entries,e.prompts,x(r.preCursor+r.postCursor,""))}function m(e){var r=e.prompt;return y(e.entries,e.prompts,x("",r.preCursor+r.postCursor))}function v(e){return x(s(e),"")}function h(e,r){null==r&&(r=function(e){var r;return r=[{effect:!1,value:e}]});var n=s(e.prompt),t=r(n),o=t.slice(0,-1).filter(function(e){return"display"===e.effect.type}).map(function(e){return{type:"display",value:e.value}}),u=t[t.length-1],i=null!=u.value?[{type:"response",value:u.value}]:[],a={type:"command",value:n},c=v(e.prompt);return y(e.entries.concat([a],o,i),[c].concat(e.prompts),x("",""))}var y=n(6),x=n(5);e.exports={addChar:t,completeWord:o,deleteLeftChar:u,deletePreCursor:i,deleteRightChar:a,deleteWord:c,moveCursorLeft:f,moveCursorRight:p,moveCursorToEnd:d,moveCursorToStart:m,submit:h}},function(e,r,n){function t(e){return o(u(e))}var o=n(17),u=n(18);e.exports=t},function(e,r){function n(e){var r=e.value;if(e.ctrlKey)switch(r){case u:case f:return o("moveCursorToStart");case i:case p:return o("moveCursorToEnd");case a:case d:return o("deleteLeftChar");case c:case m:return o("clear");case s:case v:return o("deletePreCursor");case l:case h:return o("deleteWord");default:return o("noOp")}switch(r){case _:return o("submit");case y:return o("deleteLeftChar");case E:return o("moveCursorLeft");case b:return o("moveCursorRight");case k:return o("rewind");case g:return o("fastForward");case x:return o("deleteRightChar");case C:return o("completeWord");case w:case U:return{name:"addChar","char":" "};default:return t(r)?{name:"addChar","char":r}:o("noOp")}}function t(e){return T.indexOf(e)>=0}function o(e){return{name:e}}var u="a",i="e",a="h",c="l",s="u",l="w",f="A",p="E",d="H",m="L",v="U",h="W",y="Backspace",x="Delete",g="ArrowDown",_="Enter",E="ArrowLeft",b="ArrowRight",w=" ",U="Spacebar",C="Tab",k="ArrowUp",T=[w,"`","1","2","3","4","5","6","7","8","9","0","-","=","~","!","@","#","$","%","^","&","*","(",")","_","+","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","\\",";","'",",",".","/","{","}","|",":",'"',"<",">","?"];e.exports=n},function(e,r,n){function t(e,r){return{value:r[e],altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey}}function o(e){return e}function u(e){var r,n;return null!=e.key?(n="key",r=o):null!=e.keyIdentifier?(n="keyIdentifier",r=i(s)):(n="keyCode",r=i(c)),r(t(n,e))}function i(e){return function(r){return{value:a(e,r.value,r.shiftKey),altKey:r.altKey,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey}}}function a(e,r,n){var t=n?"withShift":"withoutShift";return e[t][r]}var c=n(19),s=n(20);e.exports=u},function(e,r){var n={withShift:{8:"Backspace",9:"Tab",13:"Enter",32:" ",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",46:"Delete",48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",173:"_",188:"<",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},withoutShift:{8:"Backspace",9:"Tab",13:"Enter",32:" ",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",173:"-",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};e.exports=n},function(e,r){var n={withoutShift:{"U+0041":"a","U+0042":"b","U+0043":"c","U+0044":"d","U+0045":"e","U+0046":"f","U+0047":"g","U+0048":"h","U+0049":"i","U+004A":"j","U+004B":"k","U+004C":"l","U+004D":"m","U+004E":"n","U+004F":"o","U+0050":"p","U+0051":"q","U+0052":"r","U+0053":"s","U+0054":"t","U+0055":"u","U+0056":"v","U+0057":"w","U+0058":"x","U+0059":"y","U+005A":"z","U+0030":"0","U+0031":"1","U+0032":"2","U+0033":"3","U+0034":"4","U+0035":"5","U+0036":"6","U+0037":"7","U+0038":"8","U+0039":"9","U+00C0":"`","U+00BD":"-","U+00BB":"=","U+00DB":"[","U+00DD":"]","U+00DC":"\\","U+00BA":";","U+00DE":"'","U+00BC":",","U+00BE":".","U+00BF":"/","U+0020":" ","U+0008":"Backspace","U+0075":"Delete",Down:"ArrowDown",Enter:"Enter",Left:"ArrowLeft",Right:"ArrowRight","U+0020":" ","U+0009":"Tab",Up:"ArrowUp"},withShift:{"U+0041":"A","U+0042":"B","U+0043":"C","U+0044":"D","U+0045":"E","U+0046":"F","U+0047":"G","U+0048":"H","U+0049":"I","U+004A":"J","U+004B":"K","U+004C":"L","U+004D":"M","U+004E":"N","U+004F":"O","U+0050":"P","U+0051":"Q","U+0052":"R","U+0053":"S","U+0054":"T","U+0055":"U","U+0056":"V","U+0057":"W","U+0058":"X","U+0059":"Y","U+005A":"Z","U+0030":")","U+0031":"!","U+0032":"@","U+0033":"#","U+0034":"$","U+0035":"%","U+0036":"^","U+0037":"&","U+0038":"*","U+0039":"(","U+00C0":"~","U+00BD":"_","U+00BB":"+","U+00DB":"{","U+00DD":"}","U+00DC":"|","U+00BA":":","U+00DE":'"',"U+00BC":"<","U+00BE":">","U+00BF":"?","U+0020":" ","U+0008":"Backspace","U+0075":"Delete",Down:"ArrowDown",Enter:"Enter",Left:"ArrowLeft",Right:"ArrowRight","U+0020":" ","U+0009":"Tab",Up:"ArrowUp"}};e.exports=n},function(e,r,n){function t(e,r){o(e,r)}var o=n(22).createAndAttachElement;e.exports=t},function(e,r){function n(e,r){f(r)?e.innerText=r:e.appendChild(r)}function t(e,r,n){f(r)?e.innerText=r:e.replaceChild(r,n)}function o(e,r){n(e,a(r))}function u(e,r,n){t(e,a(r),c(e,{mode:"index",key:n}))}function i(e,r){for(var n=0;n<r.length;n++)o(e,r[n])}function a(e){if(f(e))return e;var r=document.createElement(e.tag);if(null!=e.id&&(r.id=e.id),null!=e.classes)for(var n in e.classes)r.classList.add(n);if(null!=e.attribs)for(var t in e.attribs)"style"!==t&&r.setAttribute(t,e.attribs[t]);if(null!=e.style)for(var u in e.style)r.style[u]=e.style[u];return null!=e.children&&(f(e.children)?o(r,e.children):e.children.forEach(function(e,n){o(r,e)})),r}function c(e,r){switch(r.mode){case"id":return document.getElementById(r.key);case"class":return e.getElementsByClassName(r.key["class"])[r.key.index];case"tag":return e.getElementsByTagName(r.key.tag)[r.key.index];case"query":return e.querySelectorAll(r.key.query)[r.key.index];case"index":return e.childNodes[r.key];default:throw new Error('Invalid "findChild" mode')}}function s(e){return l(e)}function l(e){return"[object Number]"==={}.toString.call(e)}function f(e){return"[object String]"==={}.toString.call(e)}function p(e,r){d(e,r.value,r.commands)}function d(e,r,n){for(var t=0;t<r.length;t++){var a=r[t].index,c=r[t].value;switch(a){case"id":var l=n[c];switch(l[0]){case"delete":e.removeAttribute("id");break;case"replace":case"setAtKey":e.id=l[1]}break;case"tag":break;case"style":for(var p=0;p<c.length;p++){var h=c[p].index,l=n[c[p].value];switch(l[0]){case"delete":e.style.removeProperty(h);break;case"replace":case"setAtKey":e.style[h]=l[1]}}break;case"attribs":for(var y=0;y<c.length;y++){var x=c[y].index,l=n[c[y].value];switch(l[0]){case"delete":e.attributes.removeNamedItem(x);break;case"replace":case"setAtKey":e.setAttribute(x,l[1])}}break;case"classes":if(s(c)){var l=n[0];switch(l[0]){case"delete":for(var g in l[1])e.classList.remove(g);break;case"setAtKey":for(var g in l[1])e.classList.add(g)}}else for(var _=0;_<c.length;_++){var g=c[_].index,l=n[c[_].value];switch(l[0]){case"delete":e.classList.remove(g);break;case"setAtKey":e.classList.add(g)}}break;case"children":if(s(c)){var l=n[c];switch(l[0]){case"remove":v(e);break;case"replace":f(l[1])?0===e.childElementCount?e.innerText=l[1]:e.innerText=l[1]:(v(e),i(e,l[1]));break;case"insertAtEnd":o(e,l[1])}}else for(var E=0;E<c.length;E++){var b=c[E].index,w=c[E].value;if(s(w)){var l=n[w];switch(l[0]){case"remove":m(e,b);break;case"replace":u(e,l[1],b);break;case"insertAtEnd":o(e,l[1])}}else d(e.childNodes[b],w,n)}}}}function m(e,r){h(c(e,{mode:"index",key:r}))}function v(e){for(var r=e.childNodes.length,n=r-1;n>=0;n--)e.removeChild(e.childNodes[n])}function h(e){e.parentNode.removeChild(e)}e.exports={createAndAttachElement:o,modifyElement:p}},function(e,r,n){function t(e,r,n,t){var a=e;return function(e){var c={promptLabel:n.promptLabel},s=u(c,e);i(r,o(s,a)),n.viewport=e,a=s,t()}}var o=n(24),u=n(8),i=n(22).modifyElement;e.exports=t},function(e,r){function n(e,r,n){if(!Array.isArray(r))return{tree:n,commands:[["replace",e]],index:n+1};var t=0,u=e.length,i=r.length,a=Math.min(u,i);if(a>1){for(var c=0;c<a;c++)e[c]!==r[c]&&t++;if(t===a)return{tree:n,commands:[["replace",e]],index:n+1}}for(var s=0,l=[],f=[];s<a;s++)if(e[s]!==r[s]){var p=o(e[s],r[s],n);p.commands.length>0&&(l.push({index:s,value:p.tree}),f=f.concat(p.commands),n+=p.commands.length)}for(;s<u;s++)l.push({index:s,value:n}),f.push(["insertAtEnd",e[s]]),n++;for(var d=[];s<i;s++)d.unshift({index:s,value:n}),f.push(["remove"]),n++;return l=l.concat(d),{tree:l,commands:f,index:n}}function t(e,r,n){if(!u(r))return{tree:n,commands:[["replace",e]],index:n+1};var t=0,i=0;for(var a in r)r.hasOwnProperty(a)&&(t++,e.hasOwnProperty(a)&&e[a]===r[a]||i++);if(t>1&&t===i)return{tree:n,commands:[["replace",e]],index:n+1};var c=[],s=[];for(var a in e)if(e.hasOwnProperty(a))if(r.hasOwnProperty(a)){if(e[a]!==r[a]){var l=o(e[a],r[a],n);l.commands.length>0&&(c.push({index:a,value:l.tree}),s=s.concat(l.commands),n+=l.commands.length)}}else c.push({index:a,value:n}),s.push(["setAtKey",e[a]]),n++;for(var a in r)e.hasOwnProperty(a)||(c.push({index:a,value:n}),s.push(["delete"]),n++);return{tree:c,commands:s,index:n}}function o(e,r,o){return e===r?{tree:[],commands:[],index:o}:Array.isArray(e)?n(e,r,o):u(e)?t(e,r,o):{tree:o,commands:[["replace",e]],index:o+1}}function u(e){return"[object Object]"==={}.toString.call(e)}var i=function(e,r){var n=o(e,r,0);return{value:n.tree,commands:n.commands}};e.exports=i},function(e,r){function n(e,r){var n=5;return e.offsetLeft+e.offsetWidth+n-r.offsetWidth}function t(e){return document.getElementById(e)}function o(e){return 100*e+"%"}function u(){return document.getElementsByClassName("erl-viewport")[0]}function i(e,r){document.addEventListener(e,r)}function a(e,r){e.scrollTop=e.scrollHeight-e.clientHeight,e.scrollLeft=n(r,e)}function c(e){return e?function(){var e=t("erl-cursor");a(u(),e)}:function(){var e=u(),r=t("erl-cursor"),n=t("erl-x-scroll-track"),o=t("erl-x-scroll-thumb"),i=t("erl-y-scroll-track"),c=t("erl-y-scroll-thumb"),s=t("erl-prompt"),l=e.offsetWidth,f=e.offsetHeight;v(e,l,n,o,r,s),h(e,f,i,c,r),m(e,l,n,o),d(e,f,i,c),a(e,r)}}function s(e,r){e.style.left=o(r)}function l(e,r){e.style.top=o(r)}function f(e,r){e.scrollLeft=r*e.scrollWidth}function p(e,r){e.scrollTop=r*e.scrollHeight}function d(e,r,n,t){function o(r){var o=r.clientY-n.getBoundingClientRect().top,u=o<0?0:o>f?f:o,i=u/s;l(t,i),p(e,i)}function u(e){t.style.backgroundColor="rgb(0, 80, 0)",i("mousemove",o),i("mouseup",a)}function a(e){t.style.backgroundColor="rgba(55, 53, 50, 0.5)",document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a)}var c=t.offsetHeight,s=n.offsetHeight,f=s-c;t.removeEventListener("mousedown",u),t.addEventListener("mousedown",u)}function m(e,r,n,t){function o(r){var o=r.clientX-n.getBoundingClientRect().left,u=o<0?0:o>p?p:o,i=u/l;s(t,i),f(e,i)}function u(e){t.style.backgroundColor="rgba(55, 53, 50, 0.5)",document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",u)}function a(e){t.style.backgroundColor="rgb(0, 80, 0)",i("mousemove",o),i("mouseup",u)}var c=t.offsetWidth,l=n.offsetWidth,p=l-c;t.removeEventListener("mousedown",a),t.addEventListener("mousedown",a)}function v(e,r,n,t,u,i){var a=n.offsetWidth,c=e.scrollWidth,s=t.style;if(r<c){var l=i.offsetLeft+i.offsetWidth,f=l,p=r/c,d=p*a,m=o(p),v=a-d,h=u.offsetLeft+u.offsetWidth-f,y=h/c*(v/a),x=o(y);s.left=x,s.width=m,s.visibility="visible"}else s.left=0,s.width="100%",s.visibility="hidden"}function h(e,r,n,t,u){var i=n.offsetHeight,a=e.scrollHeight,c=t.style;if(r<a){var s=e.offsetTop,l=r/a,f=l*i,p=o(l),d=i-f,m=u.offsetTop+u.offsetHeight-s,v=m/a*(d/i),h=o(v);c.top=h,c.height=p,c.visibility="visible"}else c.top=0,c.height="100%",c.visibility="hidden"}e.exports=c},function(e,r){function n(e,r){window.addEventListener(e,t(r))}function t(e){return function(r){r.preventDefault(),e(r)}}e.exports=n},function(e,r,n){var t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g={}.hasOwnProperty;t=n(28).circumpendQuotes,o=n(29).createErlString,s=n(30).fromArray,l=n(32),y=n(43),x=n(36),d=n(49),m=n(46),v=function(e){return o(t(e))},u=function(e){return function(r){return{effect:{type:e},value:r}}},a=function(e){return[u("error")("repl error: ("+e+")")]},c=function(e){var r,n;for(r=e;1===r.length&&Array.isArray(n=r[0].value);)r=c(n);return r},h=function(e,r){var n;try{return p(c(y(m)(e)(r)))}catch(t){return n=t,a(n)}},f=function(e,r){var n;return null!=r?(n={"*ARGV*":s(r.map(v))},h([n,i],e)):h([i],e)},p=function(e){return e.map(function(e){var r,n,t;t={};for(r in e)g.call(e,r)&&(n=e[r],"effect"===r?t[r]=n:t[r]=x(n));return t})},i=l({display:u("display")}),f(d),e.exports=f},function(e,r){var n,t,o,u;n=function(e){return'"'+e+'"'},t=function(e){return o(e)&&e!==e},o=function(e){return"[object Number]"==={}.toString.call(e)},u=function(e){return"[object String]"===Object.prototype.toString.call(e)},e.exports={circumpendQuotes:n,jsNaN_question_:t,jsNumber_question_:o,jsString_question_:u}},function(e,r,n){var t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g,_,E,b,w,U,C,k,T,q,A,L,S,I,P,N,R,O,F,B,D,j,V,K,W,G,M,H,z,J,Q,Y,X,$,Z,ee,re,ne,te,oe,ue,ie,ae,ce,se,le,fe,pe,de,me,ve;f=n(30).createErlList,b=n(31).erlAtomType,G=n(31).erlTypes,E=function(e){var r,n;return r=function(r){return g(r,e)},n=function(r){return r.type===e},[r,n]},t=function(e){return{erlValue:e,type:b}},o=function(e){return e?K:T},c=function(){return L},d=function(){return O},g=function(e,r){return{jsValue:e,type:r}},_=function(e){return function(r){return r===e}},H=function(e){return e.jsValue},$=G.map(E),Z=$[0],J=Z[0],U=Z[1],ce=$[1],u=ce[0],C=ce[1],se=$[2],i=se[0],k=se[1],le=$[3],a=le[0],A=le[1],fe=$[4],s=fe[0],I=fe[1],pe=$[5],l=pe[0],P=pe[1],de=$[6],Q=de[0],N=de[1],me=$[7],p=me[0],R=me[1],ve=$[8],m=ve[0],B=ve[1],ee=$[9],v=ee[0],D=ee[1],re=$[10],h=re[0],j=re[1],ne=$[11],y=ne[0],V=ne[1],te=$[12],Y=te[0],X=te[1],oe=$[13],x=oe[0],M=oe[1],ue=$[14],z=ue[0],w=ue[1],L=Y(null),O=Y(null),ie=[!1,!0].map(J),T=ie[0],K=ie[1],ae=[T,L,O,K].map(_),q=ae[0],S=ae[1],F=ae[2],W=ae[3],e.exports={createErlAtom:t,createErlBoolean:o,createErlCoreEffectfulFunction:u,createErlCorePureFunction:i,createErlIdentifier:a,createErlIgnore:c,createErlIndex:s,createErlKeyword:l,createErlList:f,createErlMacro:p,createErlNil:d,createErlNumber:m,createErlSpecialForm:v,createErlString:h,createErlSymbol:y,createErlUserPureFunction:x,extractJsValue:H,erlAtom_question_:w,erlBoolean_question_:U,erlCoreEffectfulFunction_question_:C,erlCorePureFunction_question_:k,erlFalse:T,erlFalse_question_:q,erlIdentifier_question_:A,erlIgnore:L,erlIgnore_question_:S,erlIndex_question_:I,erlKeyword_question_:P,erlList_question_:N,erlMacro_question_:R,erlNil:O,erlNil_question_:F,erlNumber_question_:B,erlSpecialForm_question_:D,erlString_question_:j,erlSymbol_question_:V,erlTrue:K,erlTrue_question_:W,erlUserPureFunction_question_:M}},function(e,r,n){var t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g,_,E,b,w,U,C,k,T,q,A,L,S,I=[].slice;v=n(31).erlTypes,m=v[6],o=function(e){return p(e)?t:e.value},u=function(e){return p(e)?t:e.next},i=function(){var e,r,n,o,u,i,a,s;if(r=1<=arguments.length?I.call(arguments,0):[],0===r.length)return t;for(n=c(r[0]),o=_(n),s=r.slice(1),i=0,a=s.length;i<a;i++)e=s[i],u=c(e),p(o)?(n=u,o=_(n)):p(u)||(o.next=u,o=_(u));return n},a=function(e){return s(o(e),b(e))},c=function(e){return E(function(e){return e},e)},s=function(e,r){return null==e?t:l(e,null!=r?r:t)},l=function(e,r){return{type:m,value:e,next:r}},f=function(e,r){for(;0!==e;)r=u(r),e-=1;return r},p=function(e){return e===t},d=function(e,r,n){for(;!p(e)&&!p(r);){if(!n(e.value,r.value))return!1;e=u(e),r=u(r)}return p(e)&&p(r)},h=function(e,r){var n;return n=function(r,n){return e(n)?s(n,r):r},k(U(t,n,r))},y=function(e,r){var n;for(n=r;!p(r);)n=e(r.value),r=w(r);return n},g=function(e){return o(_(e))},_=function(e){var r,n;if(p(e))return e;for(n=e,r=u(e);!p(r);)n=u(n),r=u(r);return n},E=function(e,r){var n;return n=function(r,n){return s(e(n),r)},k(U(t,n,r))},b=function(e){return o(u(e))},w=function(e){return p(e)?e:e.next},U=function(e,r,n){for(;!p(n);)e=r(e,n.value),n=w(n);return e},C=function(e,r,n){for(var t,o;!p(n);)t=n.value,n=w(n),o=n.value,e=r(e,t,o),n=w(n);return e},k=function(e){var r;for(r=t;!p(e);)r=s(e.value,r),e=e.next;return r},T=function(e,r){var n,t;for(t=s();0!==e;)n=o(r),r=u(r),t=s(n,t),e-=1;return k(t)},q=function(e){var r;return r=function(e,r){return e.push(r),e},U([],r,e)},x=function(e){var r;return r=function(e,r){return s(r,e)},e.reverse().reduce(r,s())},A=function(e,r){var n,t;for(t=[];0!==e;)n=o(r),r=u(r),t.push(n),e-=1;return t.push(r),t},L=function(e,r,n,t){for(var i,a;!p(n)&&!p(t);)i=o(n),n=u(n),a=o(t),t=u(t),e=r(e,i,a);return e},S={},t=l(S,S),e.exports={car:o,cdr:u,concat:i,cons:a,copy:c,createErlList:s,drop:f,empty_question_:p,equal_question_:d,filter:h,forEach:y,fromArray:x,last:g,map:E,next:b,recurse:w,reduce:U,reduceBy2:C,reverse:k,take:T,toArray:q,toPartialArray:A}},function(e,r){var n,t,o,u,i,a,c,s,l,f,p,d,m,v,h,y;v=[t="erlBooleanType",o="erlCoreEffectfulFunctionType",u="erlCorePureFunctionType",i="erlIdentifierType",a="erlIndexType",c="erlKeywordType",s="erlListType",l="erlMacroType",f="erlNumberType",p="erlSpecialFormType",d="erlStringType",m="erlSymbolType",h="erlUnitType",y="erlUserPureFunctionType",n="erlAtomType"],e.exports={erlAtomType:n,erlBooleanType:t,erlCoreEffectfulFunctionType:o,erlCorePureFunctionType:u,erlIdentifierType:i,erlIndexType:a,erlKeywordType:c,erlListType:s,erlMacroType:l,erlNumberType:f,erlSpecialFormType:p,erlStringType:d,erlSymbolType:m,erlTypes:v,erlUnitType:h,erlUserPureFunctionType:y}},function(e,r,n){var t,o,u,i,a;o=n(33),u=n(34),i=n(40),a=n(41),t=function(e){var r,n;return r=e.display,n={},e={display:r,environment:n},o(e),u(e),i(e),a(e),n},e.exports=t},function(e,r,n){var t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g,_,E,b,w,U,C,k,T,q,A,L,S,I,P,N,R,O,F,B,D,j,V,K=[].slice,W={}.hasOwnProperty;u=n(29).createErlBoolean,i=n(29).createErlCorePureFunction,a=n(29).createErlIdentifier,c=n(29).createErlIndex,s=n(29).createErlNumber,l=n(29).createErlString,v=n(29).extractJsValue,h=n(30).fromArray,w=n(28).jsNaN_question_,U=n(28).jsNumber_question_,C=n(28).jsString_question_,d=n(29).erlNil,F=n(30).reduce,j=n(30).toArray,t=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],s(e.reduce(function(e,r){return e+=r}))},o=function(e,r){return u(r in e)},f=function(){var e,r,n,t,o,u,i;r=arguments[0],t=2<=arguments.length?K.call(arguments,1):[],e={};for(n in r)W.call(r,n)&&(o=r[n],e[n]=o);for(u=0,i=t.length;u<i;u++)n=t[u],delete e[n];return c(e)},p=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],s(e.reduce(function(e,r){return e/=r}))},m=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],s(e.reduce(function(e,r){return Math.pow(e,r)}))},x=function(e,r){return e[r]},g=function(e){var r;return r=e.environment,B(r,y),r},E=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],u(e[0]>=e[1])},_=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],u(e[0]>e[1])},b=function(){var e,r,n,t,o;for(e=1<=arguments.length?K.call(arguments,0):[],b={},r=t=0,o=e.length;t<o;r=++t)n=e[r],r%2===0&&(b[n]=e[r+1]);return c(b)},k=function(e){var r,n,t,o;o=[];for(n in e)W.call(e,n)&&(t=e[n],o.push(w(r=parseFloat(n,10))?(":"===n[0]?a:l)(n):s(r)));return h(o)},T=function(e){return C(e)?s(e.length-2):d},q=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],u(e[0]<e[1])},A=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],u(e[0]<=e[1])},L=function(e){return function(r){return e.apply(null,j(r).map(v))}},S=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],s(Math.max.apply(Math,e))},I=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],s(Math.min.apply(Math,e))},P=function(e,r){return s(e%r)},N=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],s(e.reduce(function(e,r){return e*=r}))},R=function(e){return s(-1*e)},O=function(e){var r;return U(e)?e:C(e)?(r=parseFloat(stripQuotes(e),10),w(r)?d:s(r)):d},B=function(e,r){var n,t,o;o=[];for(t in r)W.call(r,t)&&(n=r[t],o.push(e[t]=i(L(n))));return o},D=function(){var e;return e=1<=arguments.length?K.call(arguments,0):[],s(e.reduce(function(e,r){return e-=r}))},V=function(e){var r,n,t;t=[];for(r in e)W.call(e,r)&&(n=e[r],t.push(n));return h(t)},y={"+":t,"contains?":o,dissoc:f,"/":p,"**":m,get:x,">":_,">=":E,index:b,keys:k,length:T,max:S,min:I,"<":q,"<=":A,"%":P,"*":N,negate:R,"parse-number":O,"-":D,vals:V},e.exports=g},function(e,r,n){(function(r){var t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g,_,E,b,w,U,C,k,T,q,A,L,S,I,P,N,R,O,F,B,D,j,V,K,W,G,M,H,z,J,Q,Y,X,$,Z,ee,re,ne,te,oe,ue,ie,ae,ce,se,le,fe,pe,de,me,ve,he,ye,xe,ge,_e,Ee,be,we,Ue,Ce,ke,Te,qe,Ae,Le,Se,Ie,Pe,Ne,Re,Oe,Fe,Be,De,je,Ve,Ke,We,Ge,Me,He,ze,Je,Qe,Ye,Xe,$e=[].slice,Ze={}.hasOwnProperty;s=n(30).car,l=n(30).cdr,f=n(28).circumpendQuotes,p=n(30).concat,h=n(29).createErlAtom,y=n(29).createErlBoolean,x=n(29).createErlCorePureFunction,g=n(29).createErlIndex,_=n(29).createErlList,E=n(29).createErlNumber,b=n(29).createErlString,w=n(29).createErlSymbol,k=n(30).drop,T=n(30).empty_question_,q=n(30).equal_question_,H=n(29).extractJsValue,Q=n(30).fromArray,ne=n(27),te=n(30).last,A=n(29).erlAtom_question_,S=n(29).erlCorePureFunction_question_,L=n(29).erlBoolean_question_,I=n(29).erlFalse,P=n(29).erlFalse_question_,N=n(29).erlIgnore,R=n(29).erlIndex_question_,O=n(29).erlList_question_,F=n(29).erlMacro_question_,B=n(29).erlNil,D=n(29).erlNil_question_,j=n(29).erlNumber_question_,V=n(29).erlString_question_,K=n(29).erlSymbol_question_,W=n(29).erlTrue,G=n(29).erlTrue_question_,M=n(29).erlUserPureFunction_question_,ce=n(30).next,ve=n(30).recurse,he=n(30).reduce,ge=n(30).reverse,_e=n(36),Ae=n(30).take,Se=n(30).toArray,Ie=n(30).toPartialArray,t=function(e){var r,n,t;return t=Se(e),r=t[0],n=2<=t.length?$e.call(t,1):[],p(r,Q(n))},o=function(e){var r,n,t,o;return o=Ie(2,e),r=o[0],n=o[1],t=function(e,r){var n,o;return O(e)&&O(r)?q(e,r,t):R(e)&&R(r)?(n=e.jsValue,o=r.jsValue,t(keys(n),keys(o))&&t(vals(n),vals(o))):e.jsValue===r.jsValue},y(t(r,n))},u=function(e){var r,n,t,o,u,i,a;t=H(s(e)),r=l(e),n={};for(u in t)Ze.call(t,u)&&(a=t[u],n[u]=a);for(;!T(r);)o=s(r),i=ce(r),r=ve(ve(r)),n[H(o)]=i;return g(n)},i=function(e){return h(s(e))},Be=function(e){var r;return r=s(e),O(r)?s(r):B},De=function(e){var r;return r=s(e),O(r)?l(r):B},je=function(e){var r;return r=Se(e),p.apply(null,r)},d=function(e){return _(s(e),ce(e))},v=function(e){var r,n;return r=s(e),O(r)?(n=function(e,r){return e+1},E(he(0,n,s(e)))):B},U=function(e){return function(r){var n;return n=r.value,y(e(n))}},C=function(e){return s(e).erlValue},Ve=function(e){var r,n,t;return t=Ie(2,e),n=t[0],r=t[1],k(H(n),r)},Ke=function(e){return T(e)?I:T(s(e))?W:I},J=function(e){return s(s(e))},Y=function(e){var r;return r=e.value,
y(S(r)||M(r))},$=function(e){var r;return r=e.environment,be(r,X),r},re=function(e){return N},Z=function(e){var r,n,t;return t=Ie(2,e),r=t[0],n=t[1],H(r)?N:n},ee=function(e){var r,n,t;return t=Ie(2,e),r=t[0],n=t[1],H(r)?n:N},We=function(e){return ne(ke(H(s(e))))},Ge=function(e){var r;return r=s(e),O(r)?te(r):B},oe=function(e){return e},ae=function(e){var r;return r=s(e).meta,null!=r?r:B},Me=function(e){var r;return r=s(e),D(r)||P(r)?W:I},le=function(e){var r,n,t,o,u,i;for(u=Ie(2,e),n=u[0],r=u[1],t=o=0,i=H(n);0<=i?o<i:o>i;t=0<=i?++o:--o)r=l(r);return s(r)},pe=function(e){var r,n,t,o;return o=Se(e),r=o[0],n=2<=o.length?$e.call(o,1):[],t=function(e,r){return _(r,e)},n.reduce(t,r)},He=function(e,r){return Se(e).map(function(e){return _e(e,r)}).join("")},de=function(e){return b(f(He(e,!0)))},ze=function(){return r.exit(0)},me=function(e){var r;return r=function(e){var r;return r=ke(H(s(e))),n(39).readFileSync(r).toString()},b(r(e))},ye=function(e){var r,n;return n=Ie(2,e),i=n[0],r=n[1],i.erlValue=r,i},xe=function(e){var r;return r=s(e),O(r)?l(r):B},Qe=function(e){var r;return r=s(e),O(r)?ge(r):B},Ee=function(e){var r,n,t,o;return o=Ie(3,e),r=o[0],n=o[1],t=o[2],H(r)[H(n)]=t,r},be=function(e,r){var n,t,o;o=[];for(t in r)Ze.call(r,t)&&(n=r[t],o.push(e[t]=x(n)));return o},we=function(e){var r;r=ke(H(s(e)));var t=n(39);return b(f(t.readFileSync(r).toString()))},Ue=function(e){return b(f(He(e,!1)))},ke=function(e){return e.slice(1,-1)},Te=function(e){var r,n;return r=s(e),V(r)?(n=H(r),w(n.slice(1,-1))):B},Ye=function(e){var r,n,t;return t=Ie(2,e),n=t[0],r=t[1],Ae(H(n),r)},Ne=function(e){var r;return r=s(e),b(f(r.type))},Xe=function(e){throw s(e)},Le=function(){return E((new Date).getTime())},Oe=function(e){var r,n,t,o,u,i;return i=Ie(2,e),n=i[0],r=i[1],A(n)?(t=n.erlValue,u=n.type,{erlValue:t,type:u,meta:r}):(o=n.jsValue,u=n.type,{jsValue:o,type:u,meta:r})},Fe=function(e){return b(_e(s(e)))},Je=[A,L,S,P,O,F,D,j,K,V,M,G].map(U),a=Je[0],c=Je[1],m=Je[2],z=Je[3],ue=Je[4],ie=Je[5],se=Je[6],fe=Je[7],qe=Je[8],Ce=Je[9],Re=Je[10],Pe=Je[11],X={"=":o,append:t,assoc:u,atom:i,"atom?":a,"boolean?":c,car:Be,cdr:De,cons:d,concat:je,"core-fn?":m,count:v,deref:C,drop:Ve,"empty?":Ke,first:Be,"false?":z,"function?":Y,"ignore!":re,ignoreIfTrue:Z,ignoreUnlessTrue:ee,last:Ge,list:oe,"list?":ue,"macro?":ie,meta:ae,"nil?":se,not:Me,nth:le,"number?":fe,parse:We,prepend:pe,"pretty-string":de,rest:De,reverse:Qe,string:Ue,"string?":Ce,symbol:Te,"symbol?":qe,take:Ye,"throw":Xe,"true?":Pe,"typeof":Ne,"user-fn?":Re,"-quit-":ze,read:me,"reset!":ye,"set!":Ee,slurp:we,"time-ms":Le,"with-meta":Oe,write:Fe},e.exports=$}).call(r,n(35))},function(e,r){function n(){f&&s&&(f=!1,s.length?l=s.concat(l):p=-1,l.length&&t())}function t(){if(!f){var e=i.call(null,n);f=!0;for(var r=l.length;r;){for(s=l,l=[];++p<r;)s&&s[p].run();p=-1,r=l.length}s=null,f=!1,a.call(null,e)}}function o(e,r){this.fun=e,this.array=r}function u(){}var i,a,c=e.exports={};!function(){try{i=setTimeout}catch(e){i=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(e){a=function(){throw new Error("clearTimeout is not defined")}}}();var s,l=[],f=!1,p=-1;c.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];l.push(new o(e,r)),1!==l.length||f||i.call(null,t,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=u,c.addListener=u,c.once=u,c.off=u,c.removeListener=u,c.removeAllListeners=u,c.emit=u,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,r,n){var t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g,_,E,b,w,U,C,k,T,q,A,L,S,I,P,N,R,O,F={}.hasOwnProperty;o=n(37),g=n(29).extractJsValue,E=n(38).indexEnd,b=n(38).indexStart,U=n(38).listEnd,C=n(38).listStart,a=n(29).erlAtom_question_,c=n(29).erlCoreEffectfulFunction_question_,s=n(29).erlCorePureFunction_question_,l=n(29).erlIdentifier_question_,f=n(29).erlIgnore_question_,p=n(29).erlIndex_question_,d=n(29).erlKeyword_question_,m=n(29).erlList_question_,v=n(29).erlMacro_question_,h=n(29).erlNil_question_,y=n(29).erlString_question_,x=n(29).erlUserPureFunction_question_,q=n(30).reduce,t=function(e){return function(r,n){var t;return t=A(n,e),0===r.length?t:""+r+" "+t}},A=function(e,r){var n;return e===o?o:(n=function(){switch(!1){case!m(e):return P;case!f(e):return function(e){return _};case!p(e):return I;case!d(e):return function(e){return w};case!c(e):return function(e){return u};case!s(e):return function(e){return i};case!x(e):return function(e){return O};case!v(e):return function(e){return k};case!h(e):return function(e){return T};case!l(e):return S;case!y(e):return N;case!a(e):return L;case null==e.jsValue:return g;default:return function(e){return e}}}())(e,r)},L=function(e,r){return"(atom "+A(e.erlValue,r)+")"},S=function(e,r){return g(e)},I=function(e,r){var n,t,o,u;t=e.jsValue,u="";for(o in t)F.call(t,o)&&(n=t[o],u=""===u?""+o+" "+A(n,r):""+u+", "+o+" "+A(n,r));return b+u+E},P=function(e,r){var n;return n=q("",t(r),e),C+n+U},N=function(e,r){var n;return n=R(g(e)),r?n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"):n},R=function(e){return e.slice(1,-1)},u="<effectful core function>",i="<core function>",_="<ignore>",w="<keyword>",k="<macro>",T="nil",O="<function>",e.exports=A},function(e,r){var n;n={},e.exports=n},function(e,r){var n,t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g,_,E,b,w,U,C,k,T,q,A,L,S,I,P,N,R,O,F,B,D,j,V,K,W,G,M,H,z,J,Q=[].indexOf||function(e){for(var r=0,n=this.length;r<n;r++)if(r in this&&this[r]===e)return r;return-1};_=function(e){return Q.call(E,e)>=0},g=[u="deref",i="@",t="catch*",o="def!",j="do",V="eval",K="eval-with-env",a="expand-macro",W="false",c="fn*",G="-get-current-env-",M="-get-default-env-",H="if",v="ignore!",h="#!",f="ignoreIfTrue",p="#-",d="ignoreUnlessTrue",m="#+",l="ignore",y="}",x="{",b="let*",w="letrec*",U=")",C="(",T="macro*",q="nil",z="-process-",A="quasiquote",L="`",S="quote",I="'",P="&",N="splice-unquote",R="~@",J="true",O="try*",F="undef!",B="unquote",D="~"],E=[t,o,j,V,K,a,W,c,G,M,H,l,b,w,T,q,z,A,S,N,J,O,F,B],k=[A,S,N,B],s=[i,h,L,I,R,D],n=[p,m],e.exports={binaryGlyphTokens:n,deref:u,derefGlyph:i,catch_asterisk_:t,def_bang_:o,_do:j,_eval:V,_evalWithEnv:K,expand_hyphen_macro:a,_false:W,fn_asterisk_:c,_getCurrentEnv:G,_getDefaultEnv:M,glyphTokens:s,_if:H,ignoreIfTrue:f,ignoreIfTrueGlyph:p,ignoreUnlessTrue:d,ignoreUnlessTrueGlyph:m,ignore:l,ignore_bang_:v,ignore_bang_Glyph:h,indexEnd:y,indexStart:x,keyTokens:g,keyword_question_:_,let_asterisk_:b,letrec_asterisk_:w,listEnd:U,listStart:C,macro_asterisk_:T,macroTokens:k,nil:q,_process:z,quasiquote:A,quasiquoteGlyph:L,quote:S,quoteGlyph:I,splat:P,spliceUnquote:N,spliceUnquoteGlyph:R,_true:J,try_asterisk_:O,undef_bang_:F,unquote:B,unquoteGlyph:D}},function(e,r){},function(e,r,n){var t,o,u,i,a,c,s,l={}.hasOwnProperty;t=n(29).createErlCoreEffectfulFunction,i=n(36),c=n(30).toArray,u=function(e){var r,n;return r=e.display,n=e.environment,a(r)(n,o),n},s=function(e,r){return c(e).map(function(e){return i(e,r)}).join("")},a=function(e){return function(r,n){var o,u,i;i=[];for(u in n)l.call(n,u)&&(o=n[u],i.push(r[u]=t(function(r){return e(o(r))})));return i}},o={print:function(e){return s(e,!1)},"pretty-print":function(e){return s(e,!0)}},e.exports=u},function(e,r,n){var t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g={}.hasOwnProperty;t=n(30).car,o=n(29).createErlCorePureFunction,u=n(29).createErlList,i=n(29).createErlSymbol,c=n(29).extractJsValue,s=n(30).fromArray,l=n(42).fromErlIndex,a=n(29).erlList_question_,y=n(43),m=n(30).toArray,h=n(46),v=n(30).toPartialArray,f=function(e){var r,n,o,i,a,s,f,y,g,_;return o=e.environment,r=function(e){var r,n,t;return t=m(e),n=t[0],r=t[1],g(u(n,r))},n=function(e){return g(e)},g=function(e){return x([o])(e)},_=function(e){return g(t(e))},i=function(e){return function(e){return g(h(d(c(t(e)))))}(e)},a=function(e){var r,n,t;return t=v(2,e),r=t[0],n=t[1],x([l(n)])(r)},s=function(e){var r,n,t;return t=v(2,e),r=t[0],n=t[1],x([l(n),o])(r)},y=function(e){return h(d(c(t(e))))},f={parse:y},p(o,f),o},p=function(e,r){var n,t,u;u=[];for(t in r)g.call(r,t)&&(n=r[t],u.push(e[t]=o(n)));return u},d=function(e){return e.slice(1,-1)},x=y(function(e){return e}),e.exports=f},function(e,r,n){var t,o,u,i,a=[].slice,c={}.hasOwnProperty;t=n(29).createErlIndex,i=n(28).jsString_question_,u=function(){var e,r,n,o,u,s,l;for(n=1<=arguments.length?a.call(arguments,0):[],e={},s=0,l=n.length;s<l;s++){r=n[s];for(o in r)c.call(r,o)&&(u=r[o],i(o)?e[":"+o]=u:e[o]=u)}return t(e)},o=function(e){var r,n,t,o,u;t={},u=e.jsValue;for(r in u)c.call(u,r)&&(o=u[r],i(r)?(n=function(){switch(r[0]){case":":return r.slice(1);case'"':return r.slice(1,-1);default:return r}}(),t[n]=o):t[r]=o);return t},e.exports={fromJsObjects:u,fromErlIndex:o}},function(e,r,n){var t,o,u;t=n(37),o=n(44),u=function(e){return function(r){return function(n){var u,i,a,c;return a=[],u=function(e){return a.push(e)},c=o(r,u)(e(n)),i=c===t?{effect:{type:"comment"}}:{effect:!1,value:c},u(i),a}}},e.exports=u},function(e,r,n){var t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g,_,E,b,w,U,C,k,T,q,A,L,S,I,P,N,R,O,F,B,D,j,V,K,W,G,M,H,z,J,Q,Y,X,$,Z,ee,re,ne,te,oe,ue,ie,ae,ce,se,le,fe,pe,de,me,ve,he,ye,xe,ge,_e,Ee,be,we,Ue,Ce,ke,Te={}.hasOwnProperty;t=n(45).addEnv,o=n(30).car,u=n(38).catch_asterisk_,i=n(30).cdr,a=n(28).circumpendQuotes,c=n(37),s=n(29).createErlIndex,l=n(29).createErlKeyword,f=n(29).createErlList,p=n(29).createErlMacro,d=n(29).createErlNumber,m=n(29).createErlString,v=n(29).createErlSymbol,h=n(29).createErlUserPureFunction,_=n(38).def_bang_,_e=n(38)._do,b=n(30).empty_question_,Ee=n(38)._eval,be=n(38)._evalWithEnv,O=n(38).expand_hyphen_macro,F=n(29).extractJsValue,B=n(30).filter,D=n(38).fn_asterisk_,j=n(30).forEach,V=n(30).fromArray,W=n(42).fromJsObjects,K=n(42).fromErlIndex,Ue=n(38)._getCurrentEnv,Ce=n(38)._getDefaultEnv,ke=n(38)._if,M=n(28).jsString_question_,H=n(38).keyword_question_,z=n(38).let_asterisk_,J=n(38).letrec_asterisk_,Q=n(45).lookup,Y=n(38).macro_asterisk_,w=n(29).erlCoreEffectfulFunction_question_,U=n(29).erlCorePureFunction_question_,C=n(29).erlIgnore_question_,k=n(29).erlIndex_question_,T=n(29).erlKeyword_question_,q=n(29).erlList_question_,A=n(29).erlMacro_question_,L=n(29).erlNil,S=n(29).erlSymbol_question_,I=n(29).erlUserPureFunction_question_,X=n(30).map,$=n(30).next,Z=n(38).quasiquote,ee=n(38).quote,se=n(38).spliceUnquote,he=n(38).unquote,re=n(30).recurse,ne=n(30).reduce,te=n(30).reduceBy2,ie=n(30).reverse,ae=n(45).setMainEnv,ce=n(38).splat,pe=n(30).toPartialArray,de=n(38).try_asterisk_,me=n(38).undef_bang_,ge=n(45).unsetMainEnv,y=function(e,r){return h({localEnvs:r.slice(0),erlExpression:$(e),erlParameters:o(e)})},x=function(e,r){var n,t;for(n={};!b(e);){if(t=F(o(e)),t===ce)return n[F($(e))]=r,n;n[t]=o(r),e=i(e),r=i(r)}return n},g=function(e,r){return p({localEnvs:r.slice(0),erlExpression:$(e),erlParameters:o(e)})},E=function(e,r,n){var t,u;return u=F(o(e)),t=we($(e),r,n),ae(r,u,t)},P=function(e,r,n){var t;return q(e)?(t=function(e,t){var o;switch(!1){case!xe(t):return f(we($(t),r,n),e);case!fe(t):return o=function(e,r){return f(r,e)},ne(e,o,we($(t),r,n));case!q(t):return f(P(t,r,n),e);default:return f(t,e)}},ie(ne(f(),t,e))):e},we=function(e,r,n){for(var u,c,p,d,v,h,C,V,M,re,ne,te,ie,ae,ce,se,le,fe,he,ye,xe,ge,qe,Ae,Le;;)switch(!1){case!S(e):return te=F(e),H(te)?l(te):Q(r,te);case!k(e):ne=F(e),se={};for(ie in ne)Te.call(ne,ie)&&(ye=ne[ie],se[ie]=we(ne[ie],r,n));return s(se);case!!q(e):return e;default:switch(e=B(function(e){return!G(e,r,n)},e),qe=pe(2,e),re=qe[0],u=qe[1],fe=qe[2],he=i(e),F(re)){case _:return E(he,r,n);case me:return ve(he,r);case Ee:e=we(u,r,n);break;case be:r=[K(we(u,r,n))],e=we(o(fe),r,n);break;case z:e=o(fe),r=t(r,oe(r,u,n));break;case J:e=o(fe),r=t(r,ue(r,u,n));break;case _e:return j(N(r,n),he);case Ue:return W.apply(null,r.reverse());case Ce:return W(r[r.length-1]);case ke:e=F(we(u,r,n))?o(fe):b(le=$(fe))?L:le;break;case D:return y(he,r);case Y:return g(he,r);case ee:return o(he);case Z:return P(o(he),r,n);case O:return R(o(u),i(u),r,n);case de:try{return we(u,r,n)}catch(Se){if(V=Se,b(fe))throw V;if(Ae=pe(3,o(fe)),xe=Ae[0],ge=Ae[1],c=Ae[2],"catch*"!==F(xe))throw V;return V instanceof Error&&(V=m(a(V.message))),ce={},ce[F(ge)]=V,we(c,t(r,ce),n)}break;default:switch(C=re,e=he,v=we(C,r,n),!1){case!T(v):e=f(v,he);break;case!A(v):e=R(re,he,r,n);break;case!U(v):return M=F(v),p=X(N(r,n),e),M(p);case!w(v):return M=F(v),p=X(N(r,n),e),n(M(p)),L;case!I(v):Le=F(v),ae=Le.localEnvs,d=Le.erlExpression,h=Le.erlParameters,p=X(N(r,n),e),e=d,ce=x(h,p),r=t(ae,ce);break;default:throw""+F(C)+" does not evaluate to a function, macro, or keyword."}}}},N=function(e,r){return function(n){return n===c?c:we(n,e,r)}},R=function(e,r,n,o){var u,i,a,c,s,l,f;return i=we(e,n,o),f=F(i),c=f.localEnvs,u=f.erlExpression,a=f.erlParameters,s=x(a,r),l=t(c,s),we(u,l,o)},G=function(e,r,n){var t,u;return C(e)||q(e)&&S(u=o(e))&&("ignore!"===(t=F(u))||"ignoreIfTrue"===t&&F(we($(e),r,n))||"ignoreUnlessTrue"===t&&!F(we($(e),r,n)))},oe=function(e,r,n){var o,u,i,a;for(i={},a=t(e,i);!b(r);)u=F(r.value),r=re(r),o=we(r.value,a,n),i[u]=o,r=re(r);return i},ue=function(e,r,n){var o,u,i,a,c;for(i={},a=t(e,i);!b(r);)u=F(r.value),r=re(r),c=V([v("fix*"),V([v("fn*"),V([u]),r.value])]),o=we(c,a,n),i[u]=o,r=re(r);return i},le=function(e){return se===F(e)},fe=function(e){return q(e)&&le(o(e))},ve=function(e,r){var n;return n=F(o(e)),ge(r,n)},ye=function(e){return he===F(e)},xe=function(e){return q(e)&&ye(o(e))},e.exports=N},function(e,r){var n,t,o,u,i,a,c;n=function(e,r){var n;return n=e.slice(0),n.unshift(r),n},t=function(e){return e[e.length-1]},o=function(e,r){var n,t,o;for(n=e.slice(0);0!==n.length;){if(t=n[0],o=t[r],null!=o)return o;n.shift()}throw'VALUE CORRESPONDING TO "'+r+'" DOES NOT EXIST IN ENV-STACK'},u=function(e,r,n){return e[r]=n,n},i=function(e,r,n){return u(t(e),r,n)},a=function(e,r){var n;return n=e[r],delete e[r],n},c=function(e,r){return a(t(e),r)},e.exports={addEnv:n,lookup:o,setMainEnv:i,unsetMainEnv:c}},function(e,r,n){var t,o;t=n(47),o=n(48),e.exports=function(e){return t(o(e))}},function(e,r,n){var t,o,u,i,a,c,s,l,f,p,d,m,v,h,y,x,g,_,E,b,w,U,C,k,T,q,A,L,S,I,P,N,R,O,F,B,D,j,V,K,W,G,M,H,z,J,Q,Y,X,$,Z,ee,re,ne,te,oe,ue,ie,ae,ce,se,le,fe,pe,de=[].indexOf||function(e){for(var r=0,n=this.length;r<n;r++)if(r in this&&this[r]===e)return r;return-1};u=n(38).binaryGlyphTokens,c=n(37),s=n(29).createErlBoolean,l=n(29).createErlIdentifier,f=n(29).createErlIgnore,p=n(29).createErlIndex,d=n(29).createErlList,m=n(29).createErlNil,v=n(29).createErlNumber,h=n(29).createErlString,y=n(29).createErlSymbol,x=n(38).deref,g=n(38).derefGlyph,_=n(29).extractJsValue,le=n(38)._false,w=n(38).glyphTokens,k=n(38).ignore,S=n(38).ignore_bang_,I=n(38).ignore_bang_Glyph,T=n(38).ignoreIfTrue,q=n(38).ignoreIfTrueGlyph,A=n(38).ignoreUnlessTrue,L=n(38).ignoreUnlessTrueGlyph,N=n(38).indexEnd,R=n(38).indexStart,B=n(38).keyTokens,D=n(38).listEnd,j=n(38).listStart,K=n(38).nil,$=n(38).quasiquote,ee=n(38).quote,te=n(38).spliceUnquote,ce=n(38).unquote,Z=n(38).quasiquoteGlyph,re=n(38).quoteGlyph,oe=n(38).spliceUnquoteGlyph,se=n(38).unquoteGlyph,ne=n(30).reverse,pe=n(38)._true,t=function(e){var r;return(r=function(){switch(!1){case!W(e):return m;case!P(e):return f;case!a(e):return function(e){return s(H(e))};case!ie(e):return h;case!C(e):return l;case!F(e):return function(e){return v(Y(e))};case!E(e):return function(e){return v(z(e))};default:return y}}())(e)},a=function(e){return e===le||e===pe},E=function(e){return/^(-|\+)?[0-9](_|\d)*\.(\d|(\d(_|\d)*\d))$/.test(e)},i=function(e){return de.call(u,e)>=0},U=function(e){return de.call(w,e)>=0},P=function(e){return e===k},O=function(e){return e===R},F=function(e){return/^(0(?!\.)|((-|\+)?[1-9](_|\d)*$))/.test(e)},V=function(e){return e===j},W=function(e){return e===K},fe=function(e,r){switch(!1){case!V(e):return X(r);case!O(e):return Q(r);case!U(e):return J(b[e],r);case!i(e):return M(o[e],r);default:return t(e)}},G=function(e){return e===c?c:fe(e.shift(),e)},M=function(e,r){return d(y(e),d(G(r),d(G(r))))},H=function(e){return e===pe},z=function(e){return parseFloat(ae(e),10)},J=function(e,r){return d(y(e),d(G(r)))},Q=function(e){var r,n,t,o;for(r={},n=null,t=!0;(o=e.shift())!==N;)t?(n=fe(o,e),t=!1):(r[_(n)]=fe(o,e),t=!0);return p(r)},Y=function(e){return parseInt(ae(e),10)},X=function(e){var r,n;for(r=d();(n=e.shift())!==D;)r=d(fe(n,e),r);return ne(r)},ue=function(e){return function(r){return r[0]===e}},ae=function(e){return e.replace(/_/g,"")},b={},b[g]=x,b[I]=S,b[Z]=$,b[re]=ee,b[oe]=te,b[se]=ce,o={},o[q]=T,o[L]=A,ie=ue('"'),C=ue(":"),e.exports=G},function(e,r,n){var t,o,u,i,a;t=n(37),o=function(e){return";"===e[0]},u=function(){return/[\s,]*(~@|\#\+|\#\-|\#\!|[\[\](){}'`~@^]|"(?:\\.|[^\\"])*"|;.*|[^\s\[\](){}'"`,;]*)/g},i=function(e){return""!==e},a=function(e){var r,n,a;for(a=u(),n=[];i(r=a.exec(e)[1]);)o(r)||n.push(r);return 0===n.length?t:n},e.exports=a},function(e,r){e.exports='(do\n (def! fix*\n (fn* (f)\n ( (fn* (x) (f (fn* (& ys) (apply (x x) ys))))\n (fn* (x) (f (fn* (& ys) (apply (x x) ys)))))))\n\n (def! memfix*\n (fn* (f)\n (let* (cache {})\n (\n (fn* (x cache)\n (f\n (fn* (z)\n (if (contains? cache z)\n (get cache z)\n (let* (result ((fn* (y) ((x x cache) y)) z))\n (do (set! cache z result) result))))\n cache))\n (fn* (x cache)\n (f\n (fn* (z)\n (if (contains? cache z)\n (get cache z)\n (let* (result ((fn* (y) ((x x cache) y)) z))\n (do (set! cache z result) result))))\n cache))\n cache))))\n\n (def! _0 car)\n (def! _1 (fn* (xs) (nth 1 xs)))\n (def! _2 (fn* (xs) (nth 2 xs)))\n\n (def! swap! (macro* (atom & xs)\n (if (empty? xs)\n atom\n `(let* (-atom- ~atom)\n (do\n (reset! -atom- (~(car xs) (deref -atom-) ~@(cdr xs)))\n (deref -atom-))))))\n\n (def! *gensym-counter* (atom 0))\n\n (def! gensym (fn* ()\n (symbol (string "G__" (swap! *gensym-counter* incr)))))\n\n (def! or (macro* (& xs)\n (if (empty? xs)\n false\n (let* (-query- (gensym))\n `(let* (~-query- ~(car xs))\n (if ~-query- \n ~-query-\n (or ~@(cdr xs))))))))\n\n (def! and (macro* (& xs)\n (if (empty? xs)\n true\n (let* (-query- (gensym))\n `(let* (~-query- ~(car xs))\n (if ~-query-\n (and ~@(cdr xs))\n false))))))\n\n (def! cond (macro* (& xs)\n (if (empty? xs)\n nil\n (if (empty? (cdr xs))\n (throw "`cond` requires an even number of forms.")\n (let* (-query- (gensym))\n `(let* (~-query- ~(car xs))\n (if ~-query-\n ~(_1 xs)\n (cond ~@(cdr (cdr xs))))))))))\n\n (def! loop (macro* (form0 form1)\n `(let* (loop (memfix* (fn* (loop) (fn* (~(_0 form0)) ~form1)))) (loop ~(_1 form0)))))\n\n (def! -> (macro* (& xs)\n (if (empty? xs)\n nil\n (let* (x (car xs)\n xs (cdr xs))\n (if (empty? xs)\n x\n (let* (form (car xs)\n forms (cdr xs))\n (if (empty? forms)\n (if (list? form)\n (if (= (symbol "fn*") (car form))\n `(~form ~x)\n `(~(car form) ~x ~@(cdr form)))\n (list form x))\n `(-> (-> ~x ~form) ~@forms))))))))\n\n (def! ->> (macro* (& xs)\n (if (empty? xs)\n nil\n (let* (x (car xs)\n xs (cdr xs))\n (if (empty? xs)\n x\n (let* (form (car xs)\n forms (cdr xs))\n (if (empty? forms)\n (if (list? form)\n (if (= (symbol "fn*") (car form))\n `(~form ~x)\n `(~@form ~x))\n (list form x))\n `(->> (->> ~x ~form) ~@forms))))))))\n\n (def! ->* (macro* (& xs) `(fn* (-x-) (-> -x- ~@xs))))\n\n (def! ->>* (macro* (& xs) `(fn* (-x-) (->> -x- ~@xs))))\n\n (def! not (fn* (x) (if x false true)))\n (def! incr (->* (+ 1)))\n (def! decr (->* (- 1)))\n (def! zero? (->* (= 0)))\n\n (def! identity (fn* (x) x))\n\n (def! constant-fn (fn* (x) (fn* (y) x)))\n\n (def! call-on (fn* (& xs) (fn* (fn) (apply fn xs))))\n\n (def! step-into-list (fn* (xs fn0 fn1)\n (let* (x (car xs)\n -xs- (cdr xs))\n (if (empty? -xs-)\n (fn1 x)\n (fn0 x -xs-)))))\n\n (def! apply-on (fn* (& xs)\n (step-into-list\n xs\n (fn* (arguments -xs-) (apply (car -xs-) arguments))\n (fn* (arguments) (fn* (f) (apply f arguments))))))\n\n (def! reduce (fn* (f seed xs)\n (if (empty? xs)\n seed\n (reduce f (f seed (car xs)) (cdr xs)))))\n\n (def! filter (fn* (predicate xs)\n (reverse\n (reduce\n (fn* (memo x)\n (if (predicate x)\n (cons x memo)\n memo))\n \'()\n xs))))\n\n (def! map (fn* (f xs)\n (reverse (reduce (fn* (memo x) (cons (f x) memo)) \'() xs))))\n\n (def! every? (fn* (pred xs)\n (if (empty? xs)\n true\n (if (pred (car xs))\n (every? pred (cdr xs))\n false))))\n\n (def! some? (fn* (pred xs)\n (if (empty? xs)\n false\n (if (pred (car xs))\n true\n (some? pred (cdr xs))))))\n\n (def! letmemrec* (macro* (alias expr)\n `(let* (~(car alias) (memfix* (fn* (~(car alias)) ~(_1 alias)))) ~expr)))\n\n (def! skip (fn* (nbr xs)\n (letrec* (-skip- (fn* (ys)\n (let* (nbr (car ys)\n xs (_1 ys))\n (cond\n (= 0 nbr) xs\n (= 1 nbr) (cdr xs)\n "default" (-skip- (list (decr nbr) (cdr xs)))))))\n (-skip- (list nbr xs)))))\n\n (def! invokable? (fn* (x) (or (function? x) (macro? x))))\n\n (def! . (macro* (x key & xs)\n (if (empty? xs)\n `(get ~x ~key)\n `((get ~x ~key) ~@xs))))\n\n (def! .. (fn* (lo hi)\n (letrec* (-..- (fn* (xs)\n (let* (lo (_0 xs)\n hi (_1 xs)\n -list- (_2 xs))\n (if (= lo hi)\n (cons hi -list-)\n (-..- (list lo (decr hi) (cons hi -list-)))))))\n (-..- (list lo hi \'())))))\n\n (def! defrec! (macro* (fn-name fn-body)\n `(def! ~fn-name (letrec* (~fn-name ~fn-body) ~fn-name))))\n\n (def! for* (macro* (loop-parameters body)\n `(loop\n ~(_0 loop-parameters)\n (if ~(_1 loop-parameters)\n (do ~body (loop ~(_2 loop-parameters)))\n nil))))\n\n (def! for-each (fn* (f xs)\n (reduce\n (fn* (memo x) (do (f x) memo))\n nil\n xs)))\n\n (def! n-times (fn* (n f)\n (loop (i 0)\n (if (= i n)\n nil\n (do (f i) (loop (+ i 1)))))))\n\n (def! tap (fn* (f x) (do (f x) x)))\n\n (def! with-side-effect (fn* (thunk x)\n (do (thunk) x)))\n\n (def! thunk (macro* (form)\n `(fn* () ~form)))\n\n (def! call (macro* (f & xs) `(~f ~@xs)))\n\n (def! apply (macro* (f xs) `(eval (cons ~f ~xs))))\n\n (def! eval-string (fn* (erlString) (eval (parse erlString))))\n\n)'}]);